<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Cookie Jar Stats</title>
    <link rel="stylesheet" href="stats.css">
</head>

<body>
    <div class="sidebar">
        <div class="sidebar-header">Cookie Jar</div>
        <div class="nav-item active" id="nav-dashboard">
            <span>üìä</span> Dashboard
        </div>
        <div class="nav-item" id="nav-projects">
            <span>üìÅ</span> Projects
        </div>
    </div>

    <div class="main-content">
        <!-- Dashboard -->
        <div id="dashboard" class="page active">
            <div class="header-row">
                <h1>Dashboard</h1>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="total-cookies">0</div>
                    <div class="stat-label">Total Cookies</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="active-projects">0</div>
                    <div class="stat-label">Active Projects</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="total-days">0</div>
                    <div class="stat-label">Days Active</div>
                </div>
            </div>

            <div class="card">
                <h3>Activity Heatmap (Last Year)</h3>
                <div class="heatmap-container">
                    <div class="heatmap-months">
                        <span>Less</span>
                        <div style="display:flex; gap:3px;">
                            <div class="heatmap-cell" style="background:#ebedf0"></div>
                            <div class="heatmap-cell" style="background:#9be9a8"></div>
                            <div class="heatmap-cell" style="background:#40c463"></div>
                            <div class="heatmap-cell" style="background:#30a14e"></div>
                            <div class="heatmap-cell" style="background:#216e39"></div>
                        </div>
                        <span>More</span>
                    </div>
                    <div class="heatmap-grid" id="heatmap-grid"></div>
                </div>
            </div>

            <div class="card">
                <h3>Recent Activity</h3>
                <div id="recent-activity-list"></div>
            </div>
        </div>

        <!-- Projects -->
        <div id="projects" class="page">
            <div class="header-row">
                <h1>Projects</h1>
            </div>

            <!-- Filter Bar -->
            <div class="card" style="padding: 15px; display: flex; flex-direction: column; gap: 10px;">
                <input type="text" id="project-search" placeholder="Search projects..."
                    style="padding: 10px; border: 1px solid #dfe6e9; border-radius: 6px; width: 100%; box-sizing: border-box;">
                <div id="project-tags-filter" style="display: flex; gap: 8px; overflow-x: auto; padding-bottom: 5px;">
                    <!-- Tags will be injected here -->
                </div>
            </div>

            <div class="projects-grid" id="projects-grid"></div>
        </div>

        <!-- Project Details (Drill-down) -->
        <div id="project-details" class="page">
            <div class="breadcrumb" onclick="backToProjects()">‚Üê Back to Projects</div>

            <div class="header-row">
                <h1 id="pd-name">Project Name</h1>
                <div style="display:flex; gap:10px;">
                    <button class="btn btn-secondary" id="pd-edit-btn">Edit</button>
                    <button class="btn btn-secondary" id="pd-archive-btn">Archive</button>
                    <button class="btn btn-danger" id="pd-delete-btn">Delete</button>
                </div>
            </div>

            <div class="card">
                <div id="pd-tags" style="margin-bottom:15px;"></div>
                <div style="font-size:1.2rem;">
                    Total Cookies: <strong id="pd-count" style="color:var(--primary-color)">0</strong>
                </div>
            </div>

            <div class="card">
                <h3>History</h3>
                <div id="pd-cookie-list"></div>
            </div>
        </div>
    </div>

    <!-- Edit Modal -->
    <div id="edit-modal" class="modal">
        <div class="modal-content">
            <h3 id="modal-title">Edit</h3>
            <div id="modal-body"></div>
            <div class="modal-buttons" style="display:flex; justify-content:flex-end; gap:10px; margin-top:20px;">
                <button class="btn btn-secondary" id="modal-close-btn">Cancel</button>
                <button class="btn btn-primary" id="modal-save-btn">Save</button>
            </div>
        </div>
    </div>

    <script src="stats.js"></script>
</body>

</html>